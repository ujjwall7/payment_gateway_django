{% extends "razorpay/base.html" %}

{% block content %}

<div class="col-6 mx-auto">

    <div class="text-center">
        <img src="https://thumbs.dreamstime.com/b/coffee-cup-vector-collection-illustration-40689298.jpg" class="img-fluid img-responsive" style="height: 300px; object-fit: contain;">
    </div>

    <form method="post" >
        {% csrf_token %}
        <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Enter Name</label>
            <input type="name" class="form-control" name="name">
        </div>
        <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Enter Email</label>
            <input type="email" class="form-control" name="email">
        </div>
        <div class="mb-3">
            <label for="amount" class="form-label">Enter Amount</label>
            <input type="tel" class="form-control" name="amount">
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>

</div>

{% if payment %}
      
<div class="container mx-auto text-center mt-4" v-if="name && amount">
    <form action="{% url 'success' %}" method="POST">
        <script 
            src="https://checkout.razorpay.com/v1/checkout.js" 
            data-key="rzp_test_SjQuoGgh17Ps5G" // Enter the Test API Key ID generated from Dashboard → Settings → API Keys  PUBLIC KEYS
            data-amount="{{payment.amount}}"
            data-currency="INR" //You can accept international payments by changing the currency code. Contact our Support Team to enable International for your account 
            data-order_id="{{payment.id}}" //Replace with the order_id generated by you in the backend. 
            data-buttontext="Pay with Razorpay" 
            data-name="Sharma's Coffee"
            data-description="Thanks for buying me a coffee" 
            data-image="https://example.com/your_logo.jpg"
            data-prefill.name="Ujjwal Sharma" data-theme.color="#F37254">
        </script>
        <input type="hidden" custom="Hidden Element" name="hidden">
    </form>
</div>
{% endif %}

{% endblock %}